<html>
<head></head>
<body>
  <form action="#" name="todoForm">
    <table>
      <tbody>
        <tr>
          <td>Todo</td>
          <td><input type="text" name="todo" id="todo"></td>
        </tr>
        <tr>
          <td></td>
          <td><input type="submit" value="Add"></td>
        </tr>
      </tbody>
    </table>
  </form>

  <h1>Todolist</h1>

  <table>
    <thead>
      <tr>
        <th>Filter</th>
        <th><input type="text" id="search" name="search"></th>
      </tr>
    </thead>
    <tbody id="todoListBody">
      <tr>
        <td><input type="button" value="Done"></td>
        <td>Todo Description</td>
      </tr>
    </tbody>
  </table>

  <script>
    let todoList = [
      "Belajar Javascript Dasar",
      "Belajar Javascript Object Oriented Programming",
      "Belajar Javascript Document Object Model"
    ]

    function clearTodoList() {
      const todoListBody = document.getElementById("todoListBody")
      while(todoListBody.firstChild) {
        todoListBody.removeChild(todoListBody.firstChild)
      }
    }

    function addTodoList(todo) {
      console.info(todo)
      const tr = document.createElement("tr")
      const tdButton = document.createElement("td")
      tr.appendChild(tdButton)

      const buttonDone = document.createElement("input")
      buttonDone.type = "button"
      buttonDone.value = "Done"
      buttonDone.className = "buttonDone"
      tdButton.appendChild(buttonDone)

      const tdTodo = document.createElement("td")
      tdTodo.textContent = todo
      tr.appendChild(tdTodo)

      const todoListBody = document.getElementById("todoListBody")
      todoListBody.appendChild(tr)
    }

    function displayTodoList() {
      clearTodoList()
      for (let i = 0; i < todoList.length; i++) {
        const todo = todoList[i]

        const searchText = document.getElementById("search").value.toLowerCase()
        if (todo.toLowerCase().includes(searchText)) {
          addTodoList(todo)
        }
       
      }
    }

    document.forms["todoForm"].onsubmit = function(event) {
      event.preventDefault()
      
      const todo = document.forms["todoForm"]["todo"].value
      todoList.push(todo)

      document.forms["todoForm"].reset()
      displayTodoList()
    }

    const searchInput = document.getElementById("search")
    searchInput.onkeyup = function() {
      displayTodoList()
    }
    searchInput.onkeydown = function() {
      displayTodoList()
    }

    document.getElementsByClassName("buttonDone").onclick = function() {
      console.info("Ndia")
    }

    displayTodoList()
  </script>
</body>
</html>